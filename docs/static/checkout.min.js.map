{"version":3,"file":"checkout.min.js","sources":["checkout.js"],"sourcesContent":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.$checkout = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\nvar Component = require('./core/component');\n\nvar Api = require('./core/api');\nvar Module = require('./core/module');\nvar Connector = require('./core/connector');\nvar Response = require('./core/response');\nvar PaymentButton = require('./core/payment/button');\nvar PaymentContainer = require('./core/payment/container');\nvar FormWidget = require('./core/widget/form');\nvar ButtonWidget = require('./core/widget/button');\nvar Utils = require('./core/utils');\nvar Config = require('./core/config');\n\nComponent.add('Api', Api);\nComponent.add('Connector', Connector);\nComponent.add('PaymentContainer', PaymentContainer);\nComponent.add('PaymentButton', PaymentButton);\nComponent.add('FormWidget', FormWidget);\nComponent.add('ButtonWidget', ButtonWidget);\nComponent.add('Response', Response);\n\nmodule.exports = Component;\nmodule.exports['Api'] = Api;\nmodule.exports['Module'] = Module;\nmodule.exports['Utils'] = Utils;\nmodule.exports['Config'] = Config;\nmodule.exports['Connector'] = Connector;\nmodule.exports['PaymentContainer'] = PaymentContainer;\nmodule.exports['PaymentButton'] = PaymentButton;\nmodule.exports['FormWidget'] = FormWidget;\nmodule.exports['ButtonWidget'] = ButtonWidget;\nmodule.exports['Response'] = Response;\n\n},{\"./core/api\":2,\"./core/component\":4,\"./core/config\":5,\"./core/connector\":6,\"./core/module\":12,\"./core/payment/button\":13,\"./core/payment/container\":14,\"./core/response\":16,\"./core/utils\":18,\"./core/widget/button\":19,\"./core/widget/form\":20}],2:[function(require,module,exports){\nvar Config    = require('./config');\nvar Deferred  = require('./deferred');\nvar Module    = require('./module');\nvar Connector = require('./connector');\nvar Modal     = require('./modal');\nvar Response  = require('./response');\n\n/**\n * @type {ClassObject}\n * @extends {Module}\n */\nvar Api = Module.extend({\n    'defaults': {\n        'origin': 'https://api.fondy.eu',\n        'endpoint': {\n            'gateway': '/checkout/v2/index.html'\n        },\n        'messages':{\n            'modalHeader':'Now you will be redirected to your bank 3DSecure. If you are not redirected please refer',\n            'modalLinkLabel':'link'\n        }\n    },\n    'init': function (params) {\n        this.initParams(params);\n    },\n    'url': function (type, url) {\n        return [this.params.origin, this.params.endpoint[type] || '/', url || ''].join('');\n    },\n    'extendParams': function(params){\n        this.utils.extend(this.params, params);\n        return this;\n    },\n    'initParams': function (params) {\n        this.params = this.utils.extend({},this.defaults);\n        this.extendParams(params);\n        this.setOrigin(this.params.origin);\n        this.loaded = false;\n        this.created = false;\n    },\n    'setOrigin': function (origin) {\n        if (this.utils.isString(origin)) {\n            this.params.origin = origin;\n        }\n        return this;\n    },\n    'scope': function (callback) {\n        callback = this.proxy(callback);\n        if (this._createFrame().loaded === true) {\n            callback();\n        } else {\n            this.on('checkout.api', callback);\n        }\n    },\n    'request': function (model, method, params) {\n        var defer = Deferred();\n        var data = {\n            uid: this.connector.getUID(),\n            action: model,\n            method: method,\n            params: params || {}\n        };\n        this.connector.send('request', data);\n        this.connector.on(data.uid, this.proxy(function (ev, response, model, action) {\n            model = new Response(response);\n            model.setUID(data.uid);\n            model.setConnector(this.connector);\n            action = 'resolveWith';\n            if (model.attr('submit3ds')) {\n                action = 'notifyWith';\n            }\n            if (model.attr('error')) {\n                action = 'rejectWith';\n            }\n            defer[action](this, [model]);\n        }));\n        return defer;\n    },\n    '_loadFrame': function (url) {\n        this.iframe = this.utils.createElement('iframe');\n        this.addAttr(this.iframe, {'allowtransparency': true, 'frameborder': 0, 'scrolling': 'no'});\n        this.addAttr(this.iframe, {'src': url});\n        this.addCss(this.iframe,Config.ApiFrameCss);\n        this.body = this.utils.querySelector('body');\n        if (this.body.firstChild) {\n            this.body.insertBefore(this.iframe, this.body.firstChild);\n        } else {\n            this.body.appendChild(this.iframe);\n        }\n        return this.iframe;\n    },\n    '_createFrame': function () {\n        if (this.created === false) {\n            this.created = true;\n            this.iframe = this._loadFrame(this.url('gateway'));\n            this.connector = new Connector({target: this.iframe.contentWindow});\n            this.connector.on('load', this.proxy('_onLoadConnector'));\n            this.connector.on('modal', this.proxy('_onOpenModal'));\n        }\n        return this;\n    },\n    '_onOpenModal': function (xhr, model) {\n        this.modal = new Modal({\n            checkout: this,\n            model: model\n        });\n        this.modal.on('close', this.proxy('_onCloseModal'));\n    },\n    '_onCloseModal': function (modal, data) {\n        this.trigger('modal.close', modal, data);\n    },\n    '_onLoadConnector': function () {\n        this.loaded = true;\n        this.connector.off('load');\n        this.trigger('checkout.api');\n        this.off('checkout.api');\n    }\n});\n\nmodule.exports = Api;\n\n},{\"./config\":5,\"./connector\":6,\"./deferred\":7,\"./modal\":10,\"./module\":12,\"./response\":16}],3:[function(require,module,exports){\nvar init = false;\nvar fnTest = /xyz/.test(function () {\n    return 'xyz';\n}.toString()) ? /\\b_super\\b/ : /.*/;\n/**\n * @type {ClassObject}\n */\nfunction ClassObject() {\n\n}\n\nClassObject.prototype._super = function(){\n\n}\n\nClassObject.prototype.instance = function(params){\n    return new this.constructor(params);\n}\n\nClassObject.prototype.proxy = function(fn){\n    fn = typeof (fn) == 'string' ? this[fn] : fn;\n    return (function (cx, cb) {\n        return function () {\n            return cb.apply(cx, [this].concat(Array.prototype.slice.call(arguments)))\n        };\n    })(this, fn);\n}\n\nfunction superMethod(parent,name,method){\n    return function () {\n        var temp = this._super, result;\n        this._super = parent[name];\n        result = method.apply(this,arguments);\n        this._super = temp;\n        return result;\n    };\n}\n\nfunction assign(target,instance){\n    var prop,proto,parent = target.prototype;\n    init = true;\n    proto = new target();\n    init = false;\n    for (prop in instance) {\n        if (instance.hasOwnProperty(prop)) {\n            if (typeof (parent[prop]) == 'function' &&\n                typeof (instance[prop]) == 'function' &&\n                fnTest.test(instance[prop])\n            ) {\n                proto[prop] = superMethod(parent,prop,instance[prop]);\n            } else {\n                proto[prop] = instance[prop];\n            }\n        }\n    }\n    return proto;\n}\n\nClassObject.extend = function extend(instance){\n    function Class(){\n        if (!init && this['init']) this['init'].apply(this, arguments);\n    }\n    Class.prototype = assign(this,instance);\n    Class.prototype.constructor = Class;\n    Class.extend = extend;\n    return Class;\n}\n\nmodule.exports = ClassObject;\n\n},{}],4:[function(require,module,exports){\nvar modules = {};\nvar instance = {};\n\nvar newModule = function (name, params) {\n    if (!modules[name]) {\n        throw Error(['module is undefined', name].join(' '));\n    }\n    return new modules[name](params || {});\n};\n\nvar addModule = function (name, module) {\n    if (modules[name]) {\n        throw Error(['module already added', name].join(' '));\n    }\n    modules[name] = module;\n};\n\nfunction Component(name, params){\n    if (instance[name]) return instance[name];\n    return (instance[name] = newModule(name, params));\n}\n\nComponent.get = function (name, params) {\n    return newModule(name, params);\n};\n\nComponent.add = function (name, module) {\n    addModule(name, module);\n    return this;\n};\n\n\nmodule.exports = Component;\n\n},{}],5:[function(require,module,exports){\nexports.GooglePayApi = 'https://pay.google.com/gp/p/js/pay.js';\n\nexports.GoogleBaseRequest = {\n    'apiVersion': 2,\n    'apiVersionMinor': 0,\n    'allowedPaymentMethods': [\n        {\n            'type': 'CARD',\n            'parameters': {\n                'allowedAuthMethods': [\"PAN_ONLY\", \"CRYPTOGRAM_3DS\"],\n                'allowedCardNetworks': ['AMEX', 'DISCOVER', 'INTERAC', 'JCB', 'MASTERCARD', 'VISA']\n            }\n        }\n    ]\n};\n\nexports.GooglePayLanguages = [\n    'ar',\n    'bg',\n    'ca',\n    'zh',\n    'hr',\n    'cs',\n    'da',\n    'nl',\n    'en',\n    'et',\n    'fi',\n    'fr',\n    'de',\n    'el',\n    'id',\n    'it',\n    'ja',\n    'ko',\n    'ms',\n    'no',\n    'pl',\n    'pt',\n    'ru',\n    'sr',\n    'sk',\n    'sl',\n    'es',\n    'sv',\n    'th',\n    'tr',\n    'uk'\n];\n\nexports.PaymentRequestMethods = [\n    ['google', {\n        'supportedMethods': ['https://google.com/pay'],\n        'data': exports.GoogleBaseRequest\n    }],\n    ['apple', {'supportedMethods': ['https://apple.com/apple-pay']}],\n    ['card', {'supportedMethods': ['basic-card']}]\n];\n\nexports.PaymentRequestDetails = {\n    'total': {\n        'label': 'Total',\n        'amount': {\n            'currency': 'USD',\n            'value': '0.00'\n        }\n    }\n};\n\nexports.ApiFrameCss = {\n    'width': '1px !important',\n    'height': '1px !important',\n    'left': '1px !important',\n    'bottom': '1px !important',\n    'position': 'fixed !important',\n    'border': '0px !important'\n};\n\nexports.ButtonFrameCss = {\n    'border': 'none !important',\n    'margin': '0 !important',\n    'padding': '0 !important',\n    'display': 'block !important',\n    'width': '1px !important',\n    'min-width': '100% !important',\n    'background': 'transparent !important',\n    'position': 'relative !important',\n    'opacity': '0 !important',\n    'overflow': 'hidden !important',\n    'height': '100% !important',\n    'outline': 'none !important',\n    'z-index':'1 !important'\n};\n\nexports.ButtonFrameAttrs = {\n    'tabindex':'-1',\n    'scrolling': 'no',\n    'frameborder': 0,\n    'allowtransparency': true,\n    'allowpaymentrequest': true\n};\n\nexports.ButtonCoverCss = {\n    'z-index':'2 !important',\n    'position':'absolute !important',\n    'left':'0 !important',\n    'top':'0 !important',\n    'cursor':'pointer !important',\n    'outline': 'none !important',\n    'width':'100% !important',\n    'height':'100% !important'\n};\n\nexports.ButtonCoverAttrs = {\n    'tabindex':'0',\n    'href':'javascript:void(0)'\n};\n\nexports.ButtonContainerCss = {\n    'border': '0 !important',\n    'margin': '0 !important',\n    'padding': '0 !important',\n    'display': 'block !important',\n    'background': 'transparent !important',\n    'overflow': 'hidden !important',\n    'position': 'relative !important',\n    'opacity': '1 !important',\n    'height': '0 !important',\n    'outline': 'none !important'\n};\n\nexports.ButtonDefaultColor = 'dark';\n\nexports.ButtonColorMap = {\n    'dark': 'dark',\n    'light': 'light',\n    'black': 'dark',\n    'white': 'light'\n}\n\nexports.ButtonLabelMap = {\n    'ar':'',\n    'bg':'',\n    'ca':'',\n    'zh':'',\n    'hr':'',\n    'cs':'',\n    'da':'',\n    'nl':'',\n    'en':'Pay with',\n    'et':'',\n    'es':'Comprar con',\n    'el':'',\n    'fi':'',\n    'fr':'Acheter avec',\n    'de':'Zahlen über',\n    'id':'',\n    'it':'Acquista con',\n    'ja':'',\n    'ko':'',\n    'ms':'',\n    'no':'',\n    'pl':'Zapłać przez',\n    'pt':'',\n    'ru':'Оплатить через',\n    'sr':'',\n    'sk':'Zaplatiť cez',\n    'sl':'',\n    'sv':'',\n    'th':'',\n    'tr':'',\n    'uk':'Оплатити через'\n}\n\n},{}],6:[function(require,module,exports){\nvar Module = require('./module');\n/**\n * @type {ClassObject}\n * @extends {Module}\n */\nvar Connector = Module.extend({\n    'ns': 'crossDomain',\n    'origin': '*',\n    'uniqueId': 1,\n    'signature': null,\n    'init': function (params) {\n        this.setTarget(params.target);\n        this.create();\n    },\n    'create': function () {\n        this.addEvent(window, 'message', 'router');\n    },\n    'setTarget': function (target) {\n        this.target = target;\n        return this;\n    },\n    'getUID': function () {\n        return ++this.uniqueId;\n    },\n    'destroy': function () {\n        this.removeEvent(window, 'message', 'router');\n        this._super();\n    },\n    'router': function (window, ev, response) {\n        if (this.target !== ev.source) return false;\n        try {\n            response = JSON.parse(ev.data);\n        } catch (e) {\n        }\n        if (response && response.action && response.data) {\n            this.trigger(response.action, response.data);\n        }\n    },\n    'send': function (action, data) {\n        if(!this.target){\n            console.log(this.target,action,data);\n            return;\n        }\n        this.target.postMessage(JSON.stringify({\n            action: action,\n            data: data\n        }), this.origin, []);\n    }\n});\n\n\nmodule.exports = Connector;\n\n},{\"./module\":12}],7:[function(require,module,exports){\nvar Utils = require('./utils');\n\nvar PENDING = 0;\nvar RESOLVED = 1;\nvar REJECTED = 2;\n\nfunction isArray(value) {\n    return Utils.isArray(value);\n}\n\nfunction isFunction(value) {\n    return Utils.isFunction(value);\n}\n\nfunction forEach(list, callback, context) {\n    var i = 0;\n    if (list) {\n        if (isArray(list)) {\n            for (; i < list.length; i++) {\n                callback.call(context, list[i]);\n            }\n        } else {\n            callback.call(context, list);\n        }\n    }\n}\n\n/**\n * @name Deferred\n * @param [fn]\n * @return {Deferred}\n */\nfunction Deferred(fn) {\n    var status = PENDING;\n    var doneFuncs = [];\n    var failFuncs = [];\n    var progressFuncs = [];\n    var resultArgs = null;\n    /**\n     * @lends Deferred.prototype\n     */\n    var promise = {\n        done: function () {\n            for (var i = 0; i < arguments.length; i++) {\n                if (!arguments[i]) {\n                    continue;\n                }\n                forEach(arguments[i], function (callback) {\n                    if (status === RESOLVED) {\n                        callback.apply(this, resultArgs);\n                    }\n                    doneFuncs.push(callback);\n                }, this);\n            }\n            return this;\n        },\n        fail: function () {\n            for (var i = 0; i < arguments.length; i++) {\n                if (!arguments[i]) {\n                    continue;\n                }\n                forEach(arguments[i], function (callback) {\n                    if (status === REJECTED) {\n                        callback.apply(this, resultArgs);\n                    }\n                    failFuncs.push(callback);\n                }, this);\n            }\n            return this;\n        },\n        always: function () {\n            return this.done.apply(this, arguments).fail.apply(this, arguments);\n        },\n        progress: function () {\n            for (var i = 0; i < arguments.length; i++) {\n                if (!arguments[i]) {\n                    continue;\n                }\n                forEach(arguments[i], function (callback) {\n                    if (status === PENDING) {\n                        progressFuncs.push(callback);\n                    }\n                }, this);\n            }\n            return this;\n        },\n        then: function () {\n            if (arguments.length > 1 && arguments[1]) {\n                this.fail(arguments[1]);\n            }\n            if (arguments.length > 0 && arguments[0]) {\n                this.done(arguments[0]);\n            }\n            if (arguments.length > 2 && arguments[2]) {\n                this.progress(arguments[2]);\n            }\n            return this;\n        },\n        promise: function (object) {\n            var prop;\n            if (object === null) {\n                return promise;\n            }\n            for (prop in promise) {\n                if (promise.hasOwnProperty(prop)) {\n                    object[prop] = promise[prop];\n                }\n            }\n            return object;\n        },\n        state: function () {\n            return status;\n        },\n        isPending: function () {\n            return status === PENDING;\n        },\n        isRejected: function () {\n            return status === REJECTED;\n        },\n        isResolved: function () {\n            return status === RESOLVED;\n        }\n    };\n    /**\n     * @lends Deferred.prototype\n     */\n    var deferred = {\n        resolveWith: function (context) {\n            if (status === PENDING) {\n                status = RESOLVED;\n                var args = resultArgs = (arguments.length > 1) ? arguments[1] : [];\n                for (var i = 0; i < doneFuncs.length; i++) {\n                    doneFuncs[i].apply(context, args);\n                }\n            }\n            return this;\n        },\n        rejectWith: function (context) {\n            if (status === PENDING) {\n                status = REJECTED;\n                var args = resultArgs = (arguments.length > 1) ? arguments[1] : [];\n                for (var i = 0; i < failFuncs.length; i++) {\n                    failFuncs[i].apply(context, args);\n                }\n            }\n            return this;\n        },\n        notifyWith: function (context) {\n            if (status === PENDING) {\n                var args = resultArgs = (arguments.length > 1) ? arguments[1] : [];\n                for (var i = 0; i < progressFuncs.length; i++) {\n                    progressFuncs[i].apply(context, args);\n                }\n            }\n            return this;\n        },\n        resetState: function(){\n            status = PENDING;\n            return this;\n        },\n        resolve: function () {\n            return this.resolveWith(this, arguments);\n        },\n        reject: function () {\n            return this.rejectWith(this, arguments);\n        },\n        notify: function () {\n            return this.notifyWith(this, arguments);\n        }\n    };\n    var obj = promise.promise(deferred);\n    if (isFunction(fn)) {\n        fn.call(obj, obj);\n    }\n    return obj;\n}\n\n\nmodule.exports = Deferred;\n\n},{\"./utils\":18}],8:[function(require,module,exports){\nvar Class = require('./class');\n/**\n * @type {ClassObject}\n * @extends {Class}\n */\nvar Event = Class.extend({\n    'init': function () {\n        this.events = {};\n        this.empty = [];\n    },\n    'on': function (type, callback) {\n        (this.events[type] = this.events[type] || []).push(callback);\n        return this;\n    },\n    'off': function (type, callback) {\n        type || (this.events = {});\n        var list = this.events[type] || this.empty,\n            i = list.length = callback ? list.length : 0;\n        while (i--) callback === list[i][0] && list.splice(i, 1);\n        return this;\n    },\n    'trigger': function (type) {\n        var e = this.events[type] || this.empty,\n            list = e.length > 0 ? e.slice(0, e.length) : e,\n            i = 0, j;\n        while ((j = list[i++])) j.apply(j, this.empty.slice.call(arguments, 1));\n        return this;\n    }\n});\n\nmodule.exports = Event;\n\n},{\"./class\":3}],9:[function(require,module,exports){\nvar Deferred = require('../deferred');\nvar Module = require('../module');\nvar config = require('../config');\n\nvar GooglePay = Module.extend({\n    'id':'google-payments-api',\n    'init': function () {\n        this.client  = null;\n        this.wrapper = this.utils.querySelector('head');\n        this.defer   = Deferred();\n    },\n    'load': function(){\n        if( this.utils.getPath('google.payments.api.PaymentsClient') ) {\n            return this.defer.resolveWith(this);\n        }\n        if( this.utils.querySelector('#'.concat(this.id)) ){\n            return this.defer;\n        }\n        this.script = this.utils.createElement('script');\n        this.addAttr(this.script,{\n            id: this.id ,\n            async:true,\n            src:config.GooglePayApi\n        });\n        this.utils.isElement(this.wrapper) && this.wrapper.appendChild(this.script);\n        this.addEvent(this.script,'load', 'onLoadSuccess');\n        this.addEvent(this.script,'error', 'onLoadError');\n        return this.defer;\n    },\n    'show': function(methods){\n        var method = methods.find(function(item){\n            return item.supportedMethods === 'https://google.com/pay';\n        });\n        var client = this.getClient();\n        return client.loadPaymentData(method.data);\n    },\n    'readyToPay': function(cx,response){\n        if (response.result) {\n            this.defer.resolveWith(this);\n        }\n    },\n    'onError': function(cx,error){\n        this.defer.rejectWith(this,error);\n    },\n    'onLoadSuccess': function(){\n        this.getClient().isReadyToPay(config.GoogleBaseRequest)\n            .then(this.proxy('readyToPay'))\n            .catch(this.proxy('onError'));\n    },\n    'onLoadError': function(){\n        this.defer.rejectWith(this);\n    },\n    'getClient': function(options){\n        if (this.client === null) {\n            var PaymentClient = this.utils.getPath('google.payments.api.PaymentsClient');\n            if( PaymentClient ) {\n                this.client = new PaymentClient(options);\n            } else {\n                this.onError(null, new Error('Google Client Error') );\n            }\n        }\n        return this.client;\n    }\n});\n\nmodule.exports = new GooglePay;\n\n},{\"../config\":5,\"../deferred\":7,\"../module\":12}],10:[function(require,module,exports){\nvar Module = require('./module');\nvar Connector = require('./connector');\nvar Template  = require('./template');\n/**\n * @type {ClassObject}\n * @extends {Module}\n */\nvar Modal = Module.extend({\n    'init': function (data) {\n        this.checkout = data.checkout;\n        this.model    = data.model || {};\n        this.messages = data.checkout.params.messages || {};\n        this.template = new Template('3ds.ejs');\n        this.body = this.utils.querySelector('body');\n        this.initModal();\n        this.initConnector();\n    },\n    'initModal': function () {\n        this.name = ['modal-iframe', this.getRandomNumber()].join('-');\n        this.modal = this.utils.createElement('div');\n        this.modal.innerHTML = this.template.render({\n            model: this.model,\n            messages: this.messages\n        });\n        this.iframe = this.find('.ipsp-modal-iframe');\n        this.addAttr(this.iframe, {name: this.name, id: this.name});\n        if (this.model['send_data']) {\n            this.form = this.prepareForm(this.model['url'], this.model['send_data'], this.name);\n            this.modal.appendChild(this.form);\n        } else {\n            this.iframe.src = this.model['url'];\n        }\n        this.addEvent(this.find('.ipsp-modal-close'), 'click', 'closeModal');\n        this.addEvent(this.find('.ipsp-modal-title a'), 'click', 'submitForm');\n        this.initScrollbar();\n        this.body.appendChild(this.modal);\n        if (this.form) {\n            this.form.submit();\n        }\n    },\n    'measureScrollbar': function () {\n        var width;\n        var scrollDiv = document.createElement('div');\n        scrollDiv.className = 'modal-scrollbar-measure';\n        this.body.appendChild(scrollDiv);\n        width = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n        this.utils.removeElement(scrollDiv);\n        return width;\n    },\n    'checkScrollbar': function () {\n        var documentElementRect;\n        var fullWindowWidth = window.innerWidth;\n        if (!fullWindowWidth) {\n            documentElementRect = document.documentElement.getBoundingClientRect();\n            fullWindowWidth = documentElementRect.right - Math.abs(documentElementRect.left);\n        }\n        this.bodyIsOverflowing = document.body.clientWidth < fullWindowWidth;\n        this.scrollbarWidth = this.measureScrollbar()\n    },\n    'initScrollbar': function () {\n        this.checkScrollbar();\n        this.bodyPad = parseInt(this.utils.getStyle(this.body, 'padding-right') || 0, 10);\n        this.originalBodyPad = document.body.style.paddingRight || '';\n        this.originalOverflow = document.body.style.overflow || '';\n        if (this.bodyIsOverflowing) {\n            this.addCss(this.body, {\n                'paddingRight': [this.bodyPad + this.scrollbarWidth, 'px'].join(''),\n                'overflow': 'hidden'\n            });\n        }\n    },\n    'resetScrollbar': function () {\n        this.addCss(this.body, {\n            'paddingRight': this.originalBodyPad ? [this.originalBodyPad, 'px'].join('') : '',\n            'overflow': this.originalOverflow\n        });\n    },\n    'getRandomNumber': function () {\n        return Math.round(Math.random() * 1000000000);\n    },\n    'find': function (selector) {\n        return this.utils.querySelector(selector, this.modal);\n    },\n    'closeModal': function (el, ev) {\n        ev.preventDefault();\n        this.trigger('close', this.data);\n        this.removeModal();\n    },\n    'submitForm': function (el, ev) {\n        ev.preventDefault();\n        this.trigger('submit', this.data);\n        this.addAttr(this.form,{\n            target: '_blank'\n        });\n        this.form.submit();\n    },\n    'removeModal': function () {\n        this.destroy();\n    },\n    'destroy': function () {\n        this.utils.removeElement(this.modal);\n        this.resetScrollbar();\n        this.connector.destroy();\n        this._super();\n    },\n    'initConnector': function () {\n        this.connector = new Connector({target: this.iframe.contentWindow});\n        this.connector.on('response', this.proxy('onResponse'));\n    },\n    'onResponse': function (ev, data) {\n        this.sendResponse(data);\n        this.removeModal();\n    },\n    'sendResponse': function (data) {\n        this.checkout.connector.send('request', {\n            uid: data.uid,\n            action: 'api.checkout.proxy',\n            method: 'send',\n            params: data\n        });\n    }\n});\n\nmodule.exports = Modal;\n\n},{\"./connector\":6,\"./module\":12,\"./template\":17}],11:[function(require,module,exports){\nvar Module = require('./module');\n/**\n * @type {ClassObject}\n * @extends {Module}\n */\nvar Model = Module.extend({\n    'init': function (data) {\n        this.data = data || {};\n        this.create();\n    },\n    'create': function () {\n\n    },\n    'eachProps': function(args){\n        var name = args[1] ? args[0] : null;\n        var callback = args[1] ? args[1] : args[0];\n        var list = name ? this.alt(name, []) : this.data;\n        return {\n            list: list,\n            callback: callback\n        }\n    },\n    'each': function () {\n        var prop;\n        var props = this.eachProps(arguments);\n        for (prop in props.list) {\n            if (props.list.hasOwnProperty(prop)) {\n                props.callback(this.instance(props.list[prop]), props.list[prop], prop)\n            }\n        }\n    },\n    'filter': function(){\n        var item,prop;\n        var props = this.eachProps(arguments);\n        for (prop in props.list) {\n            if (props.list.hasOwnProperty(prop)) {\n                item   = this.instance(props.list[prop]);\n                if( props.callback(item, props.list[prop], prop) ){\n                    return props.list[prop];\n                }\n            }\n        }\n    },\n    /**\n     *\n     * @return {boolean|Model}\n     */\n    'find': function(){\n        var item,prop;\n        var props = this.eachProps(arguments);\n        for (prop in props.list) {\n            if (props.list.hasOwnProperty(prop)) {\n                item   = this.instance(props.list[prop]);\n                if( props.callback(item, props.list[prop], prop) ){\n                    return item;\n                }\n            }\n        }\n        return false;\n    },\n    'alt': function (prop, defaults) {\n        prop = this.attr(prop);\n        return typeof (prop) === 'undefined' ? defaults : prop;\n    },\n    'attr': function (key, value) {\n        var i = 0,\n            data = this.data,\n            name = (key || '').split('.'),\n            prop = name.pop(),\n            len = arguments.length;\n        for (; i < name.length; i++) {\n            if (data && data.hasOwnProperty(name[i])) {\n                data = data[name[i]];\n            } else {\n                if (len === 2) {\n                    data = (data[name[i]] = {});\n                } else {\n                    break;\n                }\n            }\n        }\n        if (len === 1) {\n            return data ? data[prop] : undefined;\n        }\n        if (len === 2) {\n            data[prop] = value;\n        }\n        return this;\n    },\n    'stringify': function () {\n        return JSON.stringify(this.serialize());\n    },\n    'serialize': function () {\n        return this.data;\n    }\n});\n\n\nmodule.exports = Model;\n\n},{\"./module\":12}],12:[function(require,module,exports){\nvar Class = require('./class');\nvar Event = require('./event');\nvar Utils = require('./utils');\n/**\n * @type {ClassObject}\n * @extends {Class}\n */\nvar Module =  Class.extend({\n    'utils': Utils,\n    'getListener': function () {\n        if (!this._listener_) this._listener_ = new Event();\n        return this._listener_;\n    },\n    'destroy': function () {\n        this.off();\n    },\n    'on': function (type, callback) {\n        this.getListener().on(type, callback);\n        return this;\n    },\n    'off': function (type, callback) {\n        this.getListener().off(type, callback);\n        return this;\n    },\n    'proxy': function (fn) {\n        if (!this._proxy_cache_) this._proxy_cache_ = {};\n        if (this.utils.isString(fn)) {\n            if (!this._proxy_cache_[fn]) {\n                this._proxy_cache_[fn] = this._super(fn);\n            }\n            return this._proxy_cache_[fn];\n        }\n        return this._super(fn);\n    },\n    'trigger': function () {\n        this.getListener().trigger.apply(this.getListener(), arguments);\n        return this;\n    },\n    'each': function (ob, cb) {\n        this.utils.forEach(ob, this.proxy(cb));\n    },\n    'addAttr': function (el, ob) {\n        if (!this.utils.isElement(el)) return false;\n        this.utils.forEach(ob, function (v, k) {\n            el.setAttribute(k, v);\n        });\n    },\n    'addCss': function (el, ob) {\n        if (!this.utils.isElement(el)) return false;\n        this.utils.forEach(ob, function (v, k) {\n            this.addCssProperty(el, k, v);\n        }, this);\n    },\n    'addCssProperty': function (el, style, value) {\n        var result = el.style.cssText.match(new RegExp(\"(?:[;\\\\s]|^)(\" +\n            style.replace(\"-\", \"\\\\-\") + \"\\\\s*:(.*?)(;|$))\")),\n            idx;\n        if (result) {\n            idx = result.index + result[0].indexOf(result[1]);\n            el.style.cssText = el.style.cssText.substring(0, idx) +\n                style + \": \" + value + \";\" +\n                el.style.cssText.substring(idx + result[1].length);\n        } else {\n            el.style.cssText += \" \" + style + \": \" + value + \";\";\n        }\n    },\n    'addEvent': function (el, ev, cb) {\n        if (!el || !ev || !cb) return false;\n        cb = this.proxy(cb);\n        if (el.addEventListener) el.addEventListener(ev, cb);\n        else if (el['attachEvent']) el['attachEvent']('on' + ev, cb);\n    },\n    'removeEvent': function (el, ev, cb) {\n        if (!el || !ev || !cb) return false;\n        cb = this.proxy(cb);\n        if (el.removeEventListener) el.removeEventListener(ev, cb, false);\n        else if (el['detachEvent']) el['detachEvent']('on' + ev, cb);\n    },\n    'prepareForm': function (url, data, target, method) {\n        var form = this.utils.createElement('form');\n        this.addAttr(form, {\n            'action': url,\n            'target': target || '_self',\n            'method': method || 'POST'\n        });\n        this.addCss(form, {\n            'display': 'none'\n        });\n        this.utils.forEach(data, function (v, k, el) {\n            el = this.utils.createElement('input');\n            el.type = 'hidden';\n            el.name = k;\n            el.value = v;\n            form.appendChild(el);\n        }, this);\n        return form;\n    }\n});\n\nmodule.exports = Module;\n\n},{\"./class\":3,\"./event\":8,\"./utils\":18}],13:[function(require,module,exports){\nvar Config = require('../config');\nvar Module    = require('../module');\nvar Api       = require('../api');\nvar Connector = require('../connector');\nvar Response  = require('../response');\nvar Deferred = require('../deferred');\nvar Request   = require('./request');\n\n\n/**\n * @type {ClassObject}\n * @extends {Module}\n */\nvar Button = Module.extend({\n    'defaults': {\n        origin: 'https://api.fondy.eu',\n        endpoint: {\n            gateway: '/checkout/v2/index.html',\n            button: '/checkout/v2/button/index.html'\n        },\n        style: {\n            height: 38,\n            mode: 'default',\n            type: 'long',\n            color: 'black'\n        },\n        data: {}\n    },\n    'init': function (params) {\n        this.initParams(params);\n        this.initElement();\n        this.initEvents();\n        this.initApi();\n        this.initFrame();\n        this.initPaymentRequest();\n    },\n    'initParams': function (params) {\n        this.supported = false;\n        this.params = this.utils.extend({},this.defaults, params);\n    },\n    'initApi': function () {\n        if(this.params.api instanceof Api){\n            this.api = this.params.api;\n            delete this.params['api'];\n        } else {\n            this.api = new Api({\n                origin:this.params.origin,\n                endpoint: this.params.endpoint\n            });\n        }\n    },\n    'endpointUrl': function (type, url) {\n        return [this.params.origin, this.params.endpoint[type] || '/', url || ''].join('');\n    },\n    'initElement': function () {\n        this.element = this.utils.querySelector(this.params.element);\n        this.container = this.utils.createElement('div');\n        this.cover = this.utils.createElement('a');\n        this.addCss(this.cover,Config.ButtonCoverCss);\n        this.addAttr(this.cover,Config.ButtonCoverAttrs)\n        this.addCss(this.container,Config.ButtonContainerCss);\n        this.element.appendChild(this.container);\n    },\n    'sendButtonEvent': function(cx,ev){\n        ev.preventDefault();\n        this.connector.send('event',{type:ev.type});\n    },\n    'initEvents': function(){\n        this.addEvent(this.cover, 'mouseenter', 'sendButtonEvent');\n        this.addEvent(this.cover, 'mouseleave', 'sendButtonEvent');\n        this.addEvent(this.cover, 'blur', 'sendButtonEvent');\n        this.addEvent(this.cover, 'focus', 'sendButtonEvent');\n        this.addEvent(this.cover, 'click', 'onClick');\n    },\n    'initPaymentRequest': function () {\n        this.payment = new Request({});\n        this.payment.on('complete', this.proxy('onToken'));\n        this.payment.on('error', this.proxy('onError'));\n        this.payment.on('log', this.proxy('onLog'));\n        this.payment.on('supported', this.proxy('onSupported'));\n        this.payment.on('fallback', this.proxy('onFallback'));\n        this.payment.on('reload', this.proxy('onReload'));\n        this.payment.setApi(this.api);\n        this.payment.setMerchant(this.params.data.merchant_id);\n        this.payment.getSupportedMethod();\n    },\n    'initFrame': function () {\n        this.frameLoaded = Deferred();\n        this.frame = this.utils.createElement('iframe');\n        this.addCss(this.frame,Config.ButtonFrameCss);\n        this.addAttr(this.frame,Config.ButtonFrameAttrs);\n        this.addAttr(this.frame, {\n            src: this.endpointUrl('button')\n        });\n        this.container.appendChild(this.frame);\n        this.container.appendChild(this.cover);\n        this.initConnector();\n        this.addEvent(this.frame, 'load', function () {\n            this.frameLoaded.resetState().resolve();\n        });\n    },\n    'onFrameLoaded': function(){\n        this.update({});\n    },\n    'onFallback': function(){\n        this.fallback = true;\n        this.payment.fallback(this.proxy(function() {\n            this.onSupported(null, 'google');\n        }));\n    },\n    'onSupported': function(cx, method){\n        this.supported = true;\n        this.method = method;\n        this.frameLoaded.done(this.proxy('onFrameLoaded'));\n    },\n    'initConnector': function () {\n        this.connector = new Connector({target: this.frame.contentWindow});\n        this.connector.on('show', this.proxy('onShow'));\n        this.connector.on('hide', this.proxy('onHide'));\n        this.connector.on('log', this.proxy('onLog'));\n        this.connector.on('pay', this.proxy('onPay'));\n        this.connector.on('complete', this.proxy('onToken'));\n        this.connector.on('error', this.proxy('onError'));\n        this.connector.on('reload', this.proxy('onReload'));\n    },\n    'getConfigParams': function (data) {\n        var params = {method: this.method, data: {}, style: {} , fallback: this.fallback};\n        this.utils.extend(params.data, this.params.data);\n        this.utils.extend(params.style, this.params.style);\n        if (this.utils.isPlainObject(data)) {\n            this.utils.extend(params,data);\n        }\n        return params;\n    },\n    'send': function(action,data){\n        if( this.supported === true ){\n            this.connector.send(action,data);\n        }\n        return this;\n    },\n    'update': function (params) {\n        this.sendOptions(params);\n        this.api.scope(this.proxy(function(){\n            this.api.request('api.checkout.pay','get',this.params.data)\n                .done(this.proxy('sendConfig'))\n                .fail(this.proxy('sendConfig'));\n        }));\n    },\n    'sendOptions': function(params){\n        this.utils.extend(this.params,this.getConfigParams(params));\n        this.send('options',this.params);\n    },\n    'sendConfig': function(cx,model){\n        this.model = model;\n        this.model.supportedMethod(this.method);\n        this.payment.setConfig(this.model.data);\n        this.send('config',this.model.data);\n    },\n    'callback': function (model) {\n        var params = this.utils.extend({}, this.params.data, model.serialize());\n        this.api.scope(this.proxy(function(){\n            this.api.request('api.checkout.form','request',params)\n                .done(this.proxy('onSuccess'))\n                .fail(this.proxy('onError'));\n        }));\n    },\n    'process': function (callback) {\n        this.callback = callback;\n        return this;\n    },\n    'validate': function(callback){\n        this.validateCallback = (function(context){\n            return function(resolve){\n                if( context.validationProgress === true ) return false;\n                context.validationProgress = true;\n                callback(function(){\n                    context.validationProgress = false;\n                    resolve.call(context);\n                });\n            }\n        })(this);\n    },\n    'cssUnit': function (value, unit) {\n        return String(value || 0).concat(unit || '').concat(' !important')\n    },\n    'onClick': function () {\n        if( this.validateCallback ){\n            this.validateCallback(function(){\n                this.payment.pay();\n            });\n        } else {\n            this.payment.pay();\n        }\n    },\n    'onToken': function (c, data) {\n        this.callback(new Response(data));\n    },\n    'onSuccess': function (c, data) {\n        this.trigger('success', data);\n    },\n    'onError': function (c, data) {\n        this.trigger('error', data);\n    },\n    'onReload': function(c,data){\n        this.trigger('reload', data);\n    },\n    'onShow': function () {\n        this.addCss(this.frame, {\n            'transition': 'opacity 0.6s 0.4s ease-out',\n            'opacity': this.cssUnit(1)\n        });\n        this.addCss(this.container, {\n            'transition': 'height 0.2s ease-out',\n            'height': this.cssUnit(this.params.style.height, 'px')\n        });\n        this.trigger('show', {});\n    },\n    'onHide': function () {\n        this.addCss(this.frame, {\n            'transition': 'opacity 0.4s ease-out',\n            'opacity': this.cssUnit(0)\n        });\n        this.addCss(this.container, {\n            'transition': 'height 0.2s 0.4s ease-out',\n            'height': this.cssUnit(0, 'px')\n        });\n        this.trigger('hide', {});\n    },\n    'onLog': function (c, result) {\n        this.trigger('log',{\n            event: 'log',\n            result: result\n        });\n    }\n});\n\nmodule.exports = Button;\n\n},{\"../api\":2,\"../config\":5,\"../connector\":6,\"../deferred\":7,\"../module\":12,\"../response\":16,\"./request\":15}],14:[function(require,module,exports){\nvar Config = require('../config');\nvar Module = require('../module');\nvar Connector = require('../connector');\n\n/**\n * @type {ClassObject}\n * @extends {Module}\n */\nvar Container = Module.extend({\n    'defaults': {\n        element: null,\n        method: 'card',\n        data: {\n            lang: 'en'\n        },\n        style: {}\n    },\n    'init': function (params) {\n        this.initParams(params);\n        this.initEvents();\n    },\n    'initParams': function (params) {\n        this.params = this.utils.extend({}, this.defaults, params);\n        this.element = this.utils.querySelector(this.params.element);\n        this.connector = new Connector({target: window.parent});\n    },\n    'extendParams': function (params) {\n        this.utils.extend(this.params, {\n            method: params.method,\n            style: params.style,\n            data: params.data,\n            css: params.css\n        });\n    },\n    'getGoogleLangSupport': function (lang, defaults) {\n        return Config.GooglePayLanguages.indexOf(lang) !== -1 ? lang : defaults;\n    },\n    'getButtonColor': function(color){\n        return Config.ButtonColorMap[color] || Config.ButtonDefaultColor;\n    },\n    'getGoogleSvg': function (color, lang, mode) {\n        var format = 'url(\"{endpoint}/{color}/{mode}/{lang}.svg\")';\n        var params = {\n            endpoint: 'https://www.gstatic.com/instantbuy/svg',\n            color: this.getButtonColor(color),\n            mode: mode || 'plain',\n            lang: lang || 'en'\n        };\n        if (mode === 'plain') {\n            format = 'url(\"{endpoint}/{color}_gpay.svg\")';\n        }\n        if (mode === 'buy') {\n            format = 'url(\"{endpoint}/{color}/{lang}.svg\")';\n        }\n        return this.utils.stringFormat(format, params)\n    },\n    'getAppleSvg': function (color, lang, mode) {\n        var format = 'url(\"svg/apple-pay-{color}.svg\")';\n        var params = {\n            color: this.getButtonColor(color)\n        };\n        return this.utils.stringFormat(format, params);\n    },\n    'getAppleLabel': function (lang) {\n        return Config.ButtonLabelMap[lang || 'en'];\n    },\n    'addFrameImage': function () {\n        var frame = this.utils.querySelector('iframe', this.element) || this.utils.createElement('iframe');\n        var url = 'https://pay.google.com/gp/p/generate_gpay_btn_img';\n        var style = this.params.style || {};\n        var lang = this.getGoogleLangSupport(this.params.data.lang, 'en');\n        var query = {\n            buttonColor: style.color || 'black',\n            browserLocale: lang,\n            buttonSizeMode: 'fill'\n        };\n        var src = [url, this.utils.param(query)].join('?');\n        this.addAttr(frame, {\n            'scrolling': 'no',\n            'frameborder': 0,\n            'src': src\n        });\n        this.element.appendChild(frame);\n        this.element.classList.remove('short', 'long');\n    },\n    'styleButton': function () {\n        var element = this.element;\n        var params = this.params;\n        var method = params.method;\n        var style = params.style || {};\n        var lang = params.data.lang || 'en';\n        var css = params.css || {};\n        element.setAttribute('class', '');\n        element.classList.add('button','pending');\n        if (method === 'card') method = 'google';\n        if (method) {\n            element.classList.add(method);\n        }\n        if (lang) {\n            element.classList.add(lang);\n        }\n        if (style.type) {\n            element.classList.add(style.type);\n        }\n        if (style.mode) {\n            element.classList.add(style.mode);\n        }\n        if (style.color) {\n            element.classList.add(style.color);\n        }\n        if (method === 'google') {\n            if (style.type === 'short') {\n                style.mode = 'plain';\n            }\n            if (style.mode === 'default') {\n                this.addFrameImage();\n            } else {\n                css.image = this.getGoogleSvg(style.color, lang, style.mode);\n            }\n        }\n        if (method === 'apple') {\n            css.image = this.getAppleSvg(style.color);\n            css.label = this.getAppleLabel(lang, style.mode);\n        }\n        if (css) {\n            this.utils.forEach(css, function (value, name) {\n                element.style.setProperty(['--', name].join(''), value);\n            });\n        }\n    },\n    'initEvents': function () {\n        this.connector.on('options', this.proxy(function (cx, data) {\n            this.extendParams(data);\n            this.styleButton();\n        }));\n        this.connector.on('config', this.proxy(function (cx, data) {\n            if (data.payment_system && data.methods && data.methods.length > 0) {\n                this.element.classList.remove('pending');\n                this.element.classList.add('ready');\n                this.connector.send('show', {});\n            } else {\n                this.connector.send('hide', {});\n            }\n        }));\n        this.connector.on('event', this.proxy(function (cx, data) {\n            if (data.type === 'mouseenter') {\n                this.element.classList.add('hover');\n            }\n            if (data.type === 'mouseleave') {\n                this.element.classList.remove('hover');\n            }\n            if (data.type === 'focus') {\n                this.element.classList.add('active');\n            }\n            if (data.type === 'blur') {\n                this.element.classList.remove('active');\n            }\n        }))\n    }\n});\n\nmodule.exports = Container;\n\n},{\"../config\":5,\"../connector\":6,\"../module\":12}],15:[function(require,module,exports){\nvar Api = require('../api');\nvar Module = require('../module');\nvar GooglePay = require('../google/pay')\nvar Deferred = require('../deferred');\nvar Utils = require('../utils');\nvar Config = require('../config');\n\nvar hasPaymentRequest = function () {\n    return window.hasOwnProperty('PaymentRequest') && typeof (window.PaymentRequest) === 'function'\n}\n\nvar getPaymentRequest = function (methods, details, options) {\n    var request = null;\n    options = options || {};\n    details = details || {};\n    details.id = Utils.uuid();\n    if (hasPaymentRequest()) {\n        try {\n            request = new PaymentRequest(methods, details, options);\n        } catch (e) {\n            request = null;\n        }\n    }\n    return request;\n};\n\n/**\n * @type {ClassObject}\n * @extends {Module}\n */\nvar Request = Module.extend({\n    'config': {\n        payment_system: '',\n        fallback: false,\n        methods: [],\n        details: {},\n        options: {}\n    },\n    'init': function (params) {\n        this.params = params || {};\n    },\n    'setConfig': function (config) {\n        this.config = config;\n        return this;\n    },\n    'setMerchant': function (merchant) {\n        this.merchant = merchant;\n    },\n    'setApi': function (api) {\n        if (api instanceof Api) {\n            this.api = api;\n        }\n    },\n    'isValidConfig': function(){\n        return this.config.payment_system && this.config.methods && this.config.methods.length > 0;\n    },\n    'getSupportedMethod': function () {\n        (function (module, list, index) {\n            var request, method, config;\n            var callback = arguments.callee;\n            var item = list[index] || false;\n            if (item === false) {\n                return module.trigger('fallback');\n            }\n            index = (index || 0) + 1;\n            method = item[0];\n            config = item[1];\n            request = getPaymentRequest([config], Config.PaymentRequestDetails);\n            if( request ){\n                request.canMakePayment().then(function (status) {\n                    if (status === true) {\n                        module.trigger('supported', method);\n                    } else {\n                        callback(module, list, index);\n                    }\n                });\n            } else {\n                callback(module, list, index);\n            }\n        })(this, Config.PaymentRequestMethods , 0);\n    },\n    'modelRequest': function (method, params, callback, failure) {\n        if (this.api instanceof Api) {\n            this.api.scope(this.proxy(function () {\n                this.api.request('api.checkout.pay', method, params)\n                    .done(this.proxy(callback)).fail(this.proxy(failure));\n            }));\n        }\n    },\n    'getRequest': function () {\n        var module = this;\n        var defer = Deferred();\n        var request = getPaymentRequest(\n            this.config.methods,\n            this.config.details,\n            this.config.options\n        );\n        if (request) {\n            this.addEvent(request, 'merchantvalidation', 'merchantValidation');\n            request.canMakePayment().then(function () {\n                request.show().then(function (response) {\n                    response.complete('success').then(function () {\n                        defer.resolveWith(module, [response.details])\n                    });\n                }).catch(function (e) {\n                    defer.rejectWith(module, [{code: e.code, message: e.message}]);\n                })\n            }).catch(function (e) {\n                defer.rejectWith(module, [{code: e.code, message: e.message}]);\n            });\n        } else {\n            GooglePay.show(this.config.methods).then(function(details){\n                defer.resolveWith(module, [details])\n            }).catch(function(e){\n                defer.rejectWith(module, [{code: e.code, message: e.message}]);\n            });\n        }\n        return defer;\n    },\n    'fallback': function(callback){\n        GooglePay.load().then(callback);\n    },\n    'pay': function () {\n        this.getRequest().done(function (details) {\n            this.trigger('complete', {\n                payment_system: this.config.payment_system,\n                data: details\n            });\n        }).fail(function (error) {\n            this.trigger('error', error);\n            if (this.params.embedded === true) {\n                location.reload();\n                this.trigger('reload', this.params);\n            }\n        });\n    },\n    'appleSession': function (params) {\n        var defer = Deferred();\n        this.modelRequest('session', params, function (c, model) {\n            defer.resolveWith(this, [model.serialize()]);\n        }, function (c, model) {\n            defer.rejectWith(this, [model]);\n        });\n        return defer;\n    },\n    'merchantValidation': function (cx, event) {\n        this.appleSession({\n            url: event['validationURL'],\n            domain: location['host'],\n            merchant_id: this.merchant\n        }).done(function (session) {\n            try {\n                event.complete(session.data);\n            } catch (error) {\n                this.trigger('error', error);\n            }\n        }).fail(function (error) {\n            this.trigger('error', error);\n        });\n    }\n});\n\nmodule.exports = Request;\n\n},{\"../api\":2,\"../config\":5,\"../deferred\":7,\"../google/pay\":9,\"../module\":12,\"../utils\":18}],16:[function(require,module,exports){\nvar Model = require('./model');\n/**\n * @type {ClassObject}\n * @extends {Model}\n */\n\nvar ProxyUrl = 'http://secure-redirect.cloudipsp.com/submit/';\n\n\nvar Response = Model.extend({\n    'stringFormat': function (string) {\n        var that = this;\n        return (string || '').replace(/{(.+?)}/g, function (match, prop) {\n            return that.attr(['order.order_data', prop].join('.')) || match;\n        });\n    },\n    'setConnector': function (connector) {\n        this.connector = connector;\n        return this;\n    },\n    'setUID': function (uid) {\n        this.uid = uid;\n        return this;\n    },\n    'getUID': function () {\n        return this.uid;\n    },\n    'formDataProxy': function(url, data, target, method){\n        location.assign([ProxyUrl, JSON.stringify({\n            url: url,\n            params: data,\n            target: target,\n            method: method\n        })].join('#'));\n    },\n    'formDataSubmit': function (url, data, target, method) {\n        if( url.match(/^http:/) ){\n            return this.formDataProxy(url,data,target,method);\n        }\n        var action = this.stringFormat(url);\n        var form = this.prepareForm(action, data, target, method);\n        var body = this.utils.querySelector('body');\n        body.appendChild(form);\n        form.submit();\n        form.parentNode.removeChild(form);\n    },\n    'inProgress': function () {\n        return this.attr('order.in_progress');\n    },\n    'readyToSubmit': function () {\n        return this.attr('order.ready_to_submit');\n    },\n    'waitForResponse': function () {\n        return this.attr('order.pending');\n    },\n    'needVerifyCode': function () {\n        return this.attr('order.need_verify_code');\n    },\n    'redirectUrl': function () {\n        if (this.attr('url')) {\n            location.assign(this.attr('url'));\n            return true;\n        }\n        return false;\n    },\n    'submitToMerchant': function () {\n        var ready = this.attr('order.ready_to_submit');\n        var url = this.attr('model.url') || this.attr('order.response_url');\n        var method = this.attr('order.method');\n        var data = this.attr('model.send_data') || this.attr('order.order_data');\n        if (ready && url && data) {\n            this.formDataSubmit(url, data, '_self', method);\n            return true;\n        }\n    },\n    'submitForm': function () {\n        var method = this.attr('method');\n        var url = this.attr('url');\n        var data = this.attr('send_data');\n        if (url && data) {\n            this.formDataSubmit(url, data, '_self', method);\n            return true;\n        }\n        return false;\n    },\n    'sendResponse': function () {\n        var action = this.attr('action');\n        if (action === 'submit')\n            return this.submitForm();\n        if (action === 'redirect')\n            return this.redirectUrl();\n        return false;\n    },\n    'prepare3dsData': function () {\n        var params = {};\n        var data = this.attr('submit3ds');\n        if (data['3ds']) {\n            params.token = this.attr('token');\n            params.uid = this.getUID();\n            params.frame = true;\n            if (data['send_data'].TermUrl) {\n                data['send_data'].TermUrl = [\n                    data['send_data'].TermUrl,\n                    this.utils.param(params)\n                ].join('#!!');\n            }\n        }\n        return data;\n    },\n    'waitOn3dsDecline': function () {\n        var data = this.alt('submit3ds.checkout_data', {\n            js_wait_on_3ds_decline: false,\n            js_wait_on_3ds_decline_duration: 0\n        });\n        return data.js_wait_on_3ds_decline ? data.js_wait_on_3ds_decline_duration : 0;\n    },\n    'submit3dsForm': function () {\n        if (this.attr('submit3ds.checkout_data')) {\n            this.connector.trigger('modal', this.prepare3dsData());\n        }\n    },\n    'supportedMethod': function(method){\n        var item = this.find('methods',function(item){\n            return item.alt('supportedMethods','').match(method)\n        });\n        if( item ){\n            this.attr('methods',[item.serialize()])\n        }\n    }\n});\n\nmodule.exports = Response;\n\n},{\"./model\":11}],17:[function(require,module,exports){\nvar Views = require('../views');\nvar Class = require('./class');\nvar Utils = require('./utils');\n\nvar settings = {\n    evaluate: /<%([\\s\\S]+?)%>/g,\n    interpolate: /<%=([\\s\\S]+?)%>/g,\n    escape: /<%-([\\s\\S]+?)%>/g\n};\nvar noMatch = /(.)^/;\nvar escapes = {\n    \"'\": \"'\",\n    '\\\\': '\\\\',\n    '\\r': 'r',\n    '\\n': 'n',\n    '\\t': 't',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n};\nvar escaper = /\\\\|'|\\r|\\n|\\t|\\u2028|\\u2029/g;\nvar htmlEntities = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#x27;'\n};\nvar entityRe = new RegExp('[&<>\"\\']', 'g');\nvar escapeExpr = function (string) {\n    if (string == null) return '';\n    return ('' + string).replace(entityRe, function (match) {\n        return htmlEntities[match];\n    });\n};\nvar counter = 0;\nvar template = function (text) {\n    var render;\n    var matcher = new RegExp([\n        (settings.escape || noMatch).source,\n        (settings.interpolate || noMatch).source,\n        (settings.evaluate || noMatch).source\n    ].join('|') + '|$', 'g');\n    var index = 0;\n    var source = \"__p+='\";\n    text.replace(matcher, function (match, escape, interpolate, evaluate, offset) {\n        source += text.slice(index, offset).replace(escaper, function (match) {\n            return '\\\\' + escapes[match];\n        });\n        if (escape) {\n            source += \"'+\\n((__t=(\" + escape + \"))==null?'':escapeExpr(__t))+\\n'\";\n        }\n        if (interpolate) {\n            source += \"'+\\n((__t=(\" + interpolate + \"))==null?'':__t)+\\n'\";\n        }\n        if (evaluate) {\n            source += \"';\\n\" + evaluate + \"\\n__p+='\";\n        }\n        index = offset + match.length;\n        return match;\n    });\n    source += \"';\\n\";\n    if (!settings['variable']) source = 'with(obj||{}){\\n' + source + '}\\n';\n    source = \"var __t,__p='',__j=Array.prototype.join,\" +\n        \"print=function(){__p+=__j.call(arguments,'');};\\n\" +\n        source + \"return __p;\\n//# sourceURL=/tmpl/source[\" + counter++ + \"]\";\n    try {\n        render = new Function(settings['variable'] || 'obj', 'escapeExpr', source);\n    } catch (e) {\n        e.source = source;\n        throw e;\n    }\n    var template = function (data) {\n        return render.call(this, data, escapeExpr);\n    };\n    template.source = 'function(' + (settings['variable'] || 'obj') + '){\\n' + source + '}';\n    return template;\n};\n/**\n * @type {ClassObject}\n * @extends {Class}\n */\nvar Template = Class.extend({\n    'utils': Utils,\n    'init': function (name) {\n        this.name = name;\n        this.view = {};\n        this.output();\n    },\n    'output': function () {\n        this.view.source = Views[this.name];\n        this.view.output = template(this.view.source);\n    },\n    'render': function (data) {\n        this.data = data;\n        return this.view.output.call(this, this);\n    },\n    'include': function (name, data) {\n        return this.instance(name).render(this.utils.extend(this.data, data));\n    }\n});\n\nmodule.exports = Template;\n\n},{\"../views\":22,\"./class\":3,\"./utils\":18}],18:[function(require,module,exports){\nvar Utils = {\n    'getType': function (o) {\n        return ({}).toString.call(o).match(/\\s([a-zA-Z]+)/)[1].toLowerCase();\n    },\n    'isObject': function (o) {\n        return this.getType(o) === 'object';\n    },\n    'isPlainObject': function (o) {\n        return (!!o && typeof o === 'object' && o.constructor === Object);\n    },\n    'isFunction': function (o) {\n        return this.getType(o) === 'function';\n    },\n    'isRegexp': function (o) {\n        return this.getType(o) === 'regexp';\n    },\n    'isArguments': function (o) {\n        return this.getType(o) === 'arguments';\n    },\n    'isError': function (o) {\n        return this.getType(o) === 'error';\n    },\n    'isArray': function (o) {\n        return this.getType(o) === 'array';\n    },\n    'isDate': function (o) {\n        return this.getType(o) === 'date';\n    },\n    'isString': function (o) {\n        return this.getType(o) === 'string';\n    },\n    'isNumber': function (o) {\n        return this.getType(o) === 'number';\n    },\n    'isElement': function (o) {\n        return o && o.nodeType === 1;\n    },\n    'toArray': function (o) {\n        return [].slice.call(o);\n    },\n    'querySelectorAll': function (o, p) {\n        return this.toArray((p || document).querySelectorAll(o));\n    },\n    'querySelector': function (o, p) {\n        return (p || document).querySelector(o);\n    },\n    'hasProp': function(o,v){\n        return o && o.hasOwnProperty(v);\n    },\n    'forEach': function (ob, cb, cx) {\n        var p;\n        for (p in ob)\n            if (this.hasProp(ob,p))\n                cb.call(cx || null, ob[p], p);\n    },\n    'map': function (ob, cb, cx) {\n        var p, t, r = [];\n        for (p in ob)\n            if (this.hasProp(ob,p))\n                if ((t = cb.call(cx || null, ob[p], p)) !== undefined)\n                    r[p] = t;\n        return r;\n    },\n    'cleanObject': function (ob) {\n        var p;\n        for (p in ob) {\n            if (this.hasProp(ob,p)) {\n                if (ob[p].length === 0) {\n                    if (this.isArray(ob)) ob.splice(p, 1);\n                    if (this.isPlainObject(ob)) delete ob[p];\n                } else if (this.isPlainObject(ob[p])) {\n                    this.cleanObject(ob[p]);\n                }\n            }\n        }\n        return ob;\n    },\n    'param': function (data) {\n        var s = [];\n        var add = function (k, v) {\n            v = typeof v === 'function' ? v() : v;\n            v = v === null ? '' : v === undefined ? '' : v;\n            s[s.length] = encodeURIComponent(k) + '=' + encodeURIComponent(v);\n        };\n        var ns = function(o,i){\n            return (typeof o === 'object' && o ? i : '' )\n        };\n        var build = function (prefix, ob) {\n            if (prefix) {\n                if (Utils.isArray(ob)) {\n                    Utils.forEach(ob,function(v,k){\n                        build(prefix+'['+ns(v,k)+']',v);\n                    })\n                } else if (Utils.isObject(ob)) {\n                    Utils.forEach(ob,function(v,k){\n                        build(prefix+'['+k+']',v);\n                    });\n                } else {\n                    add(prefix,ob);\n                }\n            } else if (Utils.isArray(ob)) {\n                Utils.forEach(ob,function(v){\n                    add(v.name,v.value);\n                });\n            } else {\n                Utils.forEach(ob,function(v,k){\n                    build(k,v);\n                });\n            }\n            return s;\n        };\n        return build('', data).join('&');\n    },\n    'removeElement': function (el) {\n        el.parentNode.removeChild(el);\n    },\n    'createElement': function (el) {\n        return document.createElement(el);\n    },\n    'getStyle': function (el, prop, getComputedStyle) {\n        getComputedStyle = window.getComputedStyle;\n        return (getComputedStyle ? getComputedStyle(el) : el['currentStyle'])[prop.replace(/-(\\w)/gi, function (word, letter) {\n            return letter.toUpperCase()\n        })];\n    },\n    'extend': function (obj) {\n        this.forEach([].slice.call(arguments, 1), function (o) {\n            if (o !== null) {\n                this.forEach(o, function (value, key) {\n                    if (this.isPlainObject(value)) {\n                        obj[key] = this.extend(obj[key] || {}, value);\n                    } else {\n                        obj[key] = value;\n                    }\n                }, this);\n            }\n        }, this);\n        return obj;\n    },\n    'uuid': function(){\n        var a=0,b='';\n        while(a++<36){\n            if( a * 51 & 52 ){\n                b+= ( a ^ 15 ? 8 ^ Math.random() * ( a ^ 20 ? 16 : 4 ) : 4 ).toString(16);\n            } else {\n                b+= '-';\n            }\n        }\n        return b;\n    },\n    'getPath': function(path){\n        var props = path.split('.');\n        var first = props.shift();\n        var value = null;\n        if( this.hasProp(window,first) ) {\n            value = window[first];\n            this.forEach(props,function(name){\n                value = this.hasProp(value,name) ? value[name] : null;\n            },this)\n        }\n        return value;\n    },\n    'stringFormat':function(format,params){\n        return (format || '').replace(/{(.+?)}/g, function(match, prop) {\n            return params[prop] || match;\n        });\n    }\n};\n\nmodule.exports = Utils;\n\n},{}],19:[function(require,module,exports){\nvar Widget = require('./index');\n/**\n * @type {ClassObject}\n * @extends {Widget}\n */\nvar Button = Widget.extend({\n    'attributes': {},\n    'initElement': function (el) {\n        if (this.utils.isPlainObject(this.params.attributes)) {\n            this.utils.extend(this.attributes, this.params.attributes);\n        }\n        this.addSelectorEvent(el, 'click', 'sendRequest');\n    },\n    'getRequestParams': function (el) {\n        return this.utils.extend({}, this.params.options, this.getElementData(el));\n    },\n    'getElementData': function (el) {\n        var result = {};\n        this.utils.forEach(this.attributes, function (value, key) {\n            if (el.hasAttribute(key)) {\n                result[value] = el.getAttribute(key);\n            }\n        });\n        return result;\n    }\n});\n\nmodule.exports = Button;\n\n},{\"./index\":21}],20:[function(require,module,exports){\nvar Module = require('../module');\nvar Widget = require('./index');\n/**\n * @type {ClassObject}\n */\nvar FormData = Module.extend({\n    'init': function (form) {\n        this.setFormElement(form);\n    },\n    'setFormElement': function (form) {\n        if (this.utils.isElement(form)) {\n            this.form = form;\n        }\n    },\n    'getData': function (filter) {\n        var params = this.deparam(this.serializeArray());\n        return filter === true ? this.utils.cleanObject(params) : params;\n    },\n    'serializeArray': function () {\n        var list = this.utils.toArray(this.form.elements);\n        return this.utils.map(list, function (field) {\n            if (field.disabled || field.name === '') return;\n            if (field.type.match('checkbox|radio') && !field.checked) return;\n            return {\n                name: field.name,\n                value: field.value\n            };\n        });\n    },\n    'serializeAndEncode': function () {\n        return this.utils.map(this.serializeArray(), function (field) {\n            return [field.name, encodeURIComponent(field.value)].join('=');\n        }).join('&');\n    },\n    'deparam': function (obj) {\n        var prop;\n        var result = {};\n        var breaker = /[^\\[\\]]+|\\[\\]$/g;\n        var attr = function (name, value) {\n            var i, data = result, last = name.pop(), len = name.length;\n            for (i = 0; i < len; i++) {\n                if (!data[name[i]])\n                    data[name[i]] = len === i + 1 && last === '[]' ? [] : {};\n                data = data[name[i]];\n            }\n            if (last === '[]') {\n                data.push(value);\n            } else {\n                data[last] = value;\n            }\n        };\n        for (prop in obj) {\n            if (obj.hasOwnProperty(prop)) {\n                attr(obj[prop].name.match(breaker), obj[prop].value);\n            }\n        }\n        return result;\n    }\n});\n/**\n * @type {ClassObject}\n * @extends {Widget}\n */\nvar Form = Widget.extend({\n    'initElement': function (el) {\n        this.addSelectorEvent(el, 'submit', 'sendRequest');\n    },\n    'getRequestParams': function (el) {\n        return this.utils.extend({}, this.params.options, new FormData(el).getData() );\n    }\n});\n\nmodule.exports = Form;\n\n},{\"../module\":12,\"./index\":21}],21:[function(require,module,exports){\nvar Api = require('../api');\n/**\n * @type {ClassObject}\n * @extends {Api}\n */\nvar Widget = Api.extend({\n    'init': function (params) {\n        this.initParams(params);\n        this.initWidget();\n    },\n    'initWidget': function () {\n        this.initOptions(this.params.options);\n        if (this.utils.isString(this.params.element)) {\n            this.initElement(this.params.element);\n        }\n    },\n    'initOptions': function () {\n        if (this.utils.isPlainObject(this.params.options)) {\n            this.params.options = this.params.options || {};\n        }\n    },\n    'initElement': function (el) {\n\n    },\n    'addSelectorEvent': function (el, ev, cb) {\n        this.each(this.utils.querySelectorAll(el), function (cx, element) {\n            this.addEvent(element, ev, cb);\n        });\n        return this;\n    },\n    'getRequestParams': function () {\n        return {};\n    },\n    'sendRequest': function (el, ev) {\n        if (ev.defaultPrevented) return;\n        ev.preventDefault();\n        this.trigger('request', this.getRequestParams(el));\n        this.scope(function () {\n            this.request('api.checkout.form', 'request', this.getRequestParams(el))\n                .done(this.proxy('onSuccess'))\n                .fail(this.proxy('onError'))\n                .progress(this.proxy('onProgress'));\n        });\n    },\n    'onProgress': function (cx, model) {\n        this.trigger('progress', model);\n    },\n    'onSuccess': function (cx, model) {\n        model.sendResponse();\n        model.submitToMerchant();\n        this.trigger('success', model);\n    },\n    'onError': function (cx, model) {\n        this.trigger('error', model);\n    }\n});\n\n\nmodule.exports = Widget;\n\n},{\"../api\":2}],22:[function(require,module,exports){\nmodule.exports = Object.create(null)\nmodule.exports['3ds.ejs'] = '<%=include(\\'styles.ejs\\')%>\\n<div class=\"ipsp-modal-wrapper\">\\n    <div class=\"ipsp-modal\">\\n        <div class=\"ipsp-modal-header\">\\n            <a href=\"javascript:void(0)\" class=\"ipsp-modal-close\"></a>\\n            <div class=\"ipsp-modal-title\">\\n                <%-data.messages.modalHeader%>\\n                <a href=\\'javascript:void(0)\\'><%-data.messages.modalLinkLabel%></a>\\n            </div>\\n        </div>\\n        <div class=\"ipsp-modal-content\">\\n            <iframe src=\"about:blank\" class=\"ipsp-modal-iframe\" frameborder=\"0\" allowtransparency=\"true\"></iframe>\\n        </div>\\n    </div>\\n</div>\\n\\n'\nmodule.exports['styles.ejs'] = '<style>\\n    .ipsp-modal{\\n        box-sizing: border-box;\\n        margin:100px auto;\\n        max-width:680px;\\n        background-color:#fff;\\n        border-radius:5px;\\n        box-shadow:0 2px 2px rgba(0,0,0,0.2);\\n        overflow: hidden;\\n    }\\n    @media (max-width:850px){\\n        .ipsp-modal{\\n            margin:50px auto;\\n        }\\n    }\\n    @media (max-width:695px){\\n        .ipsp-modal{\\n            max-width:100%;\\n            margin:5px;\\n        }\\n    }\\n    .ipsp-modal-wrapper{\\n        box-sizing: border-box;\\n        overflow: auto;\\n        position:fixed;\\n        z-index:99999;\\n        left:0;\\n        bottom:0;\\n        top:0;\\n        right:0;\\n        background-color: rgba(0,0,0,0.2);\\n    }\\n    .ipsp-modal-header{\\n        box-sizing: border-box;\\n        background-color:#fafafa;\\n        height:50px;\\n        box-shadow:0 0 2px rgba(0,0,0,0.2);\\n        border-top-left-radius:5px;\\n        border-top-right-radius:5px;\\n    }\\n    .ipsp-modal-close{\\n        box-sizing: border-box;\\n        float:right;\\n        overflow:hidden;\\n        height:50px;\\n        text-decoration:none;\\n        border-top-right-radius:5px;\\n        color:#949494;\\n    }\\n    .ipsp-modal-close:hover,.ipsp-modal-close:focus,.ipsp-modal-close:active{\\n        text-decoration:none;\\n        color:#646464;\\n    }\\n    .ipsp-modal-close:before{\\n        content:\"×\";\\n        font-size:50px;\\n        line-height:50px;\\n        padding:0 10px;\\n    }\\n    .ipsp-modal-title{\\n        box-sizing: border-box;\\n        border-top-left-radius:5px;\\n        line-height:20px;\\n        height:50px;\\n        padding:5px 15px;\\n        font-size:12px;\\n        display:table-cell;\\n        vertical-align: middle;\\n    }\\n    .ipsp-modal-content{\\n        box-sizing: border-box;\\n        border-bottom-left-radius:5px;\\n        min-height:650px;\\n    }\\n    .ipsp-modal-iframe{\\n        overflow-x: hidden;\\n        border: 0;\\n        display: block;\\n        width: 100%;\\n        height: 750px;\\n    }\\n\\n</style>\\n'\nmodule.exports['trustly.ejs'] = '<%=include(\\'styles.ejs\\')%>\\n<div class=\"ipsp-modal-wrapper\">\\n    <div class=\"ipsp-modal\">\\n        <div class=\"ipsp-modal-header\">\\n            <a href=\"#\" class=\"ipsp-modal-close\"></a>\\n            <div class=\"ipsp-modal-title\">\\n                <%-data.messages.modalHeader%>\\n                <a href=\\'javascript:void(0)\\'><%-data.messages.modalLinkLabel%></a>\\n            </div>\\n        </div>\\n        <div class=\"ipsp-modal-content\">\\n            <iframe src=\"about:blank\" class=\"ipsp-modal-iframe\" frameborder=\"0\" allowtransparency=\"true\"></iframe>\\n        </div>\\n    </div>\\n</div>\\n'\n},{}]},{},[1])(1)\n});\n"],"names":["f","exports","module","define","amd","window","global","self","this","$checkout","r","e","n","t","o","i","c","require","u","a","Error","code","p","call","length","1","Component","Api","Module","Connector","Response","PaymentButton","PaymentContainer","FormWidget","ButtonWidget","Utils","Config","add","./core/api","./core/component","./core/config","./core/connector","./core/module","./core/payment/button","./core/payment/container","./core/response","./core/utils","./core/widget/button","./core/widget/form","2","Deferred","Modal","extend","defaults","origin","endpoint","gateway","messages","modalHeader","modalLinkLabel","init","params","initParams","url","type","join","extendParams","utils","setOrigin","loaded","created","isString","scope","callback","proxy","_createFrame","on","request","model","method","defer","data","uid","connector","getUID","action","send","ev","response","setUID","setConnector","attr","_loadFrame","iframe","createElement","addAttr","allowtransparency","frameborder","scrolling","src","addCss","ApiFrameCss","body","querySelector","firstChild","insertBefore","appendChild","target","contentWindow","_onOpenModal","xhr","modal","checkout","_onCloseModal","trigger","_onLoadConnector","off","./config","./connector","./deferred","./modal","./module","./response","3","fnTest","test","toString","ClassObject","assign","instance","prop","proto","parent","prototype","hasOwnProperty","name","result","temp","_super","apply","arguments","superMethod","constructor","fn","cx","cb","concat","Array","slice","Class","4","newModule","modules","get","addModule","5","GooglePayApi","GoogleBaseRequest","apiVersion","apiVersionMinor","allowedPaymentMethods","parameters","allowedAuthMethods","allowedCardNetworks","GooglePayLanguages","PaymentRequestMethods","supportedMethods","PaymentRequestDetails","total","label","amount","currency","value","width","height","left","bottom","position","border","ButtonFrameCss","margin","padding","display","min-width","background","opacity","overflow","outline","z-index","ButtonFrameAttrs","tabindex","allowpaymentrequest","ButtonCoverCss","top","cursor","ButtonCoverAttrs","href","ButtonContainerCss","ButtonDefaultColor","ButtonColorMap","dark","light","black","white","ButtonLabelMap","ar","bg","ca","zh","hr","cs","da","nl","en","et","es","el","fi","fr","de","id","it","ja","ko","ms","no","pl","pt","ru","sr","sk","sl","sv","th","tr","uk","6","ns","uniqueId","signature","setTarget","create","addEvent","destroy","removeEvent","router","source","JSON","parse","postMessage","stringify","console","log","7","forEach","list","context","isArray","status","doneFuncs","failFuncs","progressFuncs","resultArgs","promise","done","push","fail","always","progress","then","object","state","isPending","isRejected","isResolved","obj","resolveWith","args","rejectWith","notifyWith","resetState","resolve","reject","notify","isFunction","./utils","8","Event","events","empty","splice","j","./class","9","config","GooglePay","client","wrapper","load","getPath","script","async","isElement","show","methods","find","item","getClient","loadPaymentData","readyToPay","onError","error","onLoadSuccess","isReadyToPay","catch","onLoadError","options","PaymentClient","../config","../deferred","../module","10","Template","template","initModal","initConnector","getRandomNumber","innerHTML","render","form","prepareForm","initScrollbar","submit","measureScrollbar","scrollDiv","document","className","offsetWidth","clientWidth","removeElement","checkScrollbar","documentElementRect","fullWindowWidth","innerWidth","documentElement","getBoundingClientRect","right","Math","abs","bodyIsOverflowing","scrollbarWidth","bodyPad","parseInt","getStyle","originalBodyPad","style","paddingRight","originalOverflow","resetScrollbar","round","random","selector","closeModal","preventDefault","removeModal","submitForm","onResponse","sendResponse","./template","11","Model","eachProps","alt","each","props","filter","key","split","pop","len","undefined","serialize","12","getListener","_listener_","_proxy_cache_","ob","v","k","setAttribute","addCssProperty","idx","cssText","match","RegExp","replace","index","indexOf","substring","addEventListener","removeEventListener","./event","13","Request","Button","button","mode","color","initElement","initEvents","initApi","initFrame","initPaymentRequest","supported","api","endpointUrl","element","container","cover","sendButtonEvent","payment","setApi","setMerchant","merchant_id","getSupportedMethod","frameLoaded","frame","onFrameLoaded","update","onFallback","fallback","onSupported","getConfigParams","isPlainObject","sendOptions","sendConfig","supportedMethod","setConfig","process","validate","validateCallback","validationProgress","cssUnit","unit","String","onClick","pay","onToken","onSuccess","onReload","onShow","transition","onHide","onLog","event","../api","../connector","../response","./request","14","Container","lang","css","getGoogleLangSupport","getButtonColor","getGoogleSvg","format","stringFormat","getAppleSvg","getAppleLabel","addFrameImage","query","buttonColor","browserLocale","buttonSizeMode","param","classList","remove","styleButton","image","setProperty","payment_system","15","getPaymentRequest","details","uuid","PaymentRequest","merchant","isValidConfig","callee","canMakePayment","modelRequest","failure","getRequest","complete","message","embedded","location","reload","appleSession","merchantValidation","domain","session","../google/pay","../utils","16","ProxyUrl","string","that","formDataProxy","formDataSubmit","parentNode","removeChild","inProgress","readyToSubmit","waitForResponse","needVerifyCode","redirectUrl","submitToMerchant","ready","prepare3dsData","token","TermUrl","waitOn3dsDecline","js_wait_on_3ds_decline","js_wait_on_3ds_decline_duration","submit3dsForm","./model","17","escapeExpr","entityRe","htmlEntities","Views","settings","evaluate","interpolate","escape","noMatch","escapes","'","\\","\r","\n","\t"," "," ","escaper","&","<",">","\"","counter","view","output","text","matcher","offset","Function","include","../views","18","getType","toLowerCase","isObject","Object","isRegexp","isArguments","isError","isDate","isNumber","nodeType","toArray","querySelectorAll","hasProp","map","cleanObject","s","encodeURIComponent","build","prefix","getComputedStyle","word","letter","toUpperCase","b","path","first","shift","19","attributes","addSelectorEvent","getRequestParams","getElementData","hasAttribute","getAttribute","./index","20","Widget","FormData","setFormElement","getData","deparam","serializeArray","elements","field","disabled","checked","serializeAndEncode","breaker","last","Form","21","initWidget","initOptions","sendRequest","defaultPrevented","onProgress","22"],"mappings":"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"}